<template>
    <div class="signup-container">
        <!-- Animated Background -->
        <div class="background-animation">
            <div class="floating-shape shape-1"></div>
            <div class="floating-shape shape-2"></div>
            <div class="floating-shape shape-3"></div>
            <div class="floating-shape shape-4"></div>
            <div class="gradient-overlay"></div>
        </div>

        <!-- Main Glass Card -->
        <div class="glass-card fade-in">
            <!-- Logo & Header -->
            <div class="signup-header">
                <div class="logo-wrapper">
                    <lightning-icon icon-name="standard:portal" size="large" class="signup-logo">
                    </lightning-icon>
                </div>
                <h1 class="main-title">Create Your Account</h1>
                <p class="subtitle">Join the intern community and start your journey</p>
                <div class="divider"></div>
            </div>

            <!-- Error Message -->
            <template if:true={errorMsg}>
                <div class="error-alert">
                    <lightning-icon icon-name="utility:warning" size="x-small" class="error-icon">
                    </lightning-icon>
                    <span class="error-text">{errorMsg}</span>
                </div>
            </template>

            <!-- Success Message -->
            <template if:true={successMsg}>
                <div class="success-alert">
                    <lightning-icon icon-name="utility:success" size="x-small" class="success-icon">
                    </lightning-icon>
                    <span class="success-text">{successMsg}</span>
                </div>
            </template>

            <!-- Signup Form -->
            <form class="signup-form" onsubmit={handleFormSubmit}>
                <div class="form-grid">
                    <!-- First Name -->
                    <div class="input-wrapper">
                        <div class="input-icon">
                            <lightning-icon icon-name="utility:user" size="x-small"></lightning-icon>
                        </div>
                        <input type="text" placeholder="First Name" data-id="fname" oninput={handleInput} required
                            class="modern-input">
                    </div>

                    <!-- Last Name -->
                    <div class="input-wrapper">
                        <div class="input-icon">
                            <lightning-icon icon-name="utility:user" size="x-small"></lightning-icon>
                        </div>
                        <input type="text" placeholder="Last Name" data-id="lname" oninput={handleInput} required
                            class="modern-input">
                    </div>

                    <!-- Email -->
                    <div class="input-wrapper full-width">
                        <div class="input-icon">
                            <lightning-icon icon-name="utility:email" size="x-small"></lightning-icon>
                        </div>
                        <input type="email" placeholder="Email Address" data-id="email" oninput={handleInput} required
                            class="modern-input">
                    </div>

                    <!-- Phone -->
                    <div class="input-wrapper">
                        <div class="input-icon">
                            <lightning-icon icon-name="utility:phone_portrait" size="x-small"></lightning-icon>
                        </div>
                        <input type="tel" placeholder="Mobile Number" data-id="phone" oninput={handleInput} required
                            class="modern-input">
                    </div>

                    <!-- Roll Number -->
                    <div class="input-wrapper">
                        <div class="input-icon">
                            <lightning-icon icon-name="utility:number_input" size="x-small"></lightning-icon>
                        </div>
                        <input type="text" placeholder="Roll Number" data-id="rollNo" oninput={handleInput}
                            class="modern-input">
                    </div>

                    <!-- College Name -->
                    <div class="input-wrapper full-width">
                        <div class="input-icon">
                            <lightning-icon icon-name="utility:education" size="x-small"></lightning-icon>
                        </div>
                        <input type="text" placeholder="College/University Name" data-id="college" oninput={handleInput}
                            class="modern-input">
                    </div>

                    <!-- Address -->
                    <div class="input-wrapper full-width">
                        <div class="input-icon">
                            <lightning-icon icon-name="utility:location" size="x-small"></lightning-icon>
                        </div>
                        <textarea placeholder="Your Address" data-id="address" oninput={handleInput} rows="2"
                            class="modern-input textarea-input"></textarea>
                    </div>

                    <!-- Password -->
                    <div class="input-wrapper full-width">
                        <div class="input-icon">
                            <lightning-icon icon-name="utility:lock" size="x-small"></lightning-icon>
                        </div>
                        <input type="password" placeholder="Create Password (min 6 characters)" data-id="password"
                            oninput={handleInput} required class="modern-input">
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="primary-button" disabled={isLoading}>
                    <template if:false={isLoading}>
                        <lightning-icon icon-name="utility:adduser" size="x-small" class="button-icon"></lightning-icon>
                        <span>Create Account</span>
                    </template>
                    <template if:true={isLoading}>
                        <span>Creating Your Account...</span>
                    </template>
                </button>

                <!-- Login Link -->
                <div class="separator">
                    <span>Already have an account?</span>
                </div>

                <button type="button" class="secondary-button" onclick={navigateToLogin}>
                    <lightning-icon icon-name="utility:back" size="x-small" class="button-icon"></lightning-icon>
                    <span>Back to Login</span>
                </button>
            </form>

            <!-- Loading Spinner Overlay -->
            <template if:true={isLoading}>
                <div class="loading-overlay">
                    <lightning-spinner alternative-text="Loading" size="medium" variant="brand">
                    </lightning-spinner>
                </div>
            </template>
        </div>

        <!-- Footer Info -->
        <div class="footer-info">
            <p>Student Intern Portal • Join Our Community</p>
            <p class="version">v2.1 • Secure Registration</p>
        </div>
    </div>
</template>